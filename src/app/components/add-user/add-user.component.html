<div>
  <div class="submit-form">
    <div *ngIf="!submitted">
      <form name="form" (ngSubmit)="f.form.valid && saveUser()" #f="ngForm" novalidate>
      <div class="form-group">
      <label for="id">Id</label>
      <input
        type="number"
        class="form-control"
        id="id"
        required
        [(ngModel)]="user.id"
        name="id"
        #id="ngModel"
        [ngClass]="{ 'is-invalid': f.submitted && id.invalid }"
      />
      <div *ngIf="f.submitted && id.invalid" class="invalid-feedback">
        <div *ngIf="id.errors?.required">Id is required</div>
    </div>
    </div>
    <div class="form-group">
      <label for="birthDate">Birth Date</label><br/>
      <mat-form-field>
        <input 
          matInput 
          placeholder="Choose a date"
          [matDatepicker]="picker" 
          [(ngModel)]="user.birthDate" 
          name="birthDate" 
          class="form-control" 
          id="birthDate"
          [max]="maxDate"
          required
          #birthDate="ngModel"
        />
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker ></mat-datepicker>
        <mat-error *ngIf="f.submitted && birthDate.errors" class="invalid-gender">Please select Date</mat-error>
      </mat-form-field>
    </div>
      <div class="form-group">
        <label for="firstName">First Name</label>
        <input
          type="text"
          class="form-control"
          id="firstName"
          required
          [(ngModel)]="user.firstName"
          name="firstName"
          #firstName="ngModel"
          [ngClass]="{ 'is-invalid': f.submitted && firstName.invalid }"
        />
        <div *ngIf="f.submitted && firstName.invalid" class="invalid-feedback">
          <div *ngIf="firstName.errors?.required">First Name is required</div>
      </div>
      </div>
      <div class="form-group">
          <label for="lastName">Last Name</label>
          <input
            type="text"
            class="form-control"
            id="lastName"
            required
            [(ngModel)]="user.lastName"
            name="lastName"
            #lastName="ngModel"
            [ngClass]="{ 'is-invalid': f.submitted && lastName.invalid }"
          />
          <div *ngIf="f.submitted && lastName.invalid" class="invalid-feedback">
            <div *ngIf="lastName.errors?.required">Last Name is required</div>
        </div>
        </div>

      <div class="form-group">
        <label for="gender">Gender</label>
        <div id="gender">
          <input type="radio" name="gender" value="M" [(ngModel)]="user.gender" required #genderControl="ngModel" >
          <label class="radio-inline mr-4 ml-2">
          Male
          </label>
          <input type="radio" name="gender" value="F" [(ngModel)]="user.gender" required>
          <label class="radio-inline ml-2">
            Female
          </label>
          <div *ngIf="f.submitted && genderControl.errors" class="invalid-gender">Please select Gender</div>
        </div>
      </div>
      <div class="form-group">
        <label for="birthDate">Created</label><br/>
        <mat-form-field>
          <input 
            matInput
            placeholder="Choose a date"
            [matDatepicker]="created" 
            [(ngModel)]="user.created" 
            name="created" 
            class="form-control" 
            id="created"
            [max]="maxDate"
            required
            #createdDate="ngModel"
          />
          <mat-datepicker-toggle matSuffix [for]="created"></mat-datepicker-toggle>
          <mat-datepicker #created ></mat-datepicker>
          <mat-error *ngIf="f.submitted && createdDate.errors" class="invalid-gender">Please select Date</mat-error>
        </mat-form-field>
      </div>
      <button class="btn btn-success">Submit</button>
    </form>
    </div>

    <div *ngIf="submitted">
      <h4>User was added successfully!</h4>
      <button class="btn btn-success" (click)="newUser()">Add</button>
      <button class="btn btn-warning ml-2" routerLink="/users">
        HomePage
      </button>
    </div>
  </div>
</div>